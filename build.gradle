plugins {
    id "com.github.johnrengelman.shadow" version "5.2.0"
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'maven-publish'

group = 'fr.litarvan'
version = '3.1.0-FLOWARGVERSION'
archivesBaseName = 'openlauncherlib'

sourceCompatibility = 1.8
targetCompatibility = 1.8

compileJava.options.encoding = 'Cp1252'

jar {
    from "LICENSE"
    from "LICENSE.LESSER"
}

task sourcesJar(type: Jar) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

artifacts {
    archives sourcesJar
}

publishing
        {
            publications
                    {
                        mavenJava(MavenPublication)
                                {
                                    pom
                                            {
                                                groupId = 'fr.litarvan'
                                                version = '3.1.0-FLOWARGVERSION'
                                                artifactId = 'openlauncherlib'
                                                name = 'openlauncherlib'
                                                description = 'A simple modern java launching library with minecraft support '
                                                url = 'https://github.com/FlowArg/OpenLauncherLib'

                                                issueManagement
                                                        {
                                                            system = 'github'
                                                            url = 'https://github.com/FlowArg/OpenLauncherLib/issues'
                                                        }

                                                licenses
                                                        {
                                                            license
                                                                    {
                                                                        name = 'LICENSE'
                                                                        url = 'https://github.com/FlowArg/OpenLauncherLib/blob/master/LICENSE'
                                                                        distribution = 'repo'
                                                                    }
                                                        }
                                            }
                                }
                    }
            repositories
                    {
                        maven
                                {
                                    url "https://flowarg.github.io/maven/"
                                }
                    }
        }

repositories {
    jcenter()
}

dependencies {
    compile 'org.json:json:20190722'
}